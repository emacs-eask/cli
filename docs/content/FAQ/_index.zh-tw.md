---
title: å¸¸è¦‹å•é¡Œ
weight: 900
---

ä»¥ä¸‹æ˜¯ä¸€èˆ¬å¸¸è¦‹å•é¡Œåˆ—è¡¨ã€‚

{{< toc >}}

# ğŸ” é—œæ–¼ Eask

## â“ æ‚¨éœ€è¦ Node.JS æ‰èƒ½ä½¿ç”¨ Eask å—ï¼Ÿ

ç­”æ¡ˆæ˜¯ **ä¸**.

Eask åœ¨æ¯å€‹ç‰ˆæœ¬ä¸Šæ§‹å»ºæœ¬æ©Ÿå¯åŸ·è¡Œæ–‡ä»¶ï¼Œæ‚¨å¯ä»¥å¾æˆ‘å€‘çš„[ç™¼å¸ƒé é¢](https://github.com/emacs-eask/cli/releases)
ä¸‹è¼‰ï¼ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨è¦é–‹ç™¼ Easkï¼Œé‚£å°±éœ€è¦éœ€è¦ [Node.JS][]ï¼

## â“ èª°æ‡‰è©²ä½¿ç”¨é€™å€‹å·¥å…·ï¼Ÿ

é€™æ˜¯æˆ‘å€‘çš„å»ºè­°ï¼› å¦‚æœæ‚¨æ‰“ç®—ä½¿ç”¨ç‰¹å®šæ–¼æ“ä½œç³»çµ±çš„è»Ÿä»¶åŒ…ï¼ˆå¾ä¸å»å…¶ä»–å¹³å°ï¼‰ï¼Œå»å°‹æ‰¾å…¶ä»–å·¥å…·ã€‚
å¦ä¸€æ–¹é¢ï¼ŒEask æ—¨åœ¨æä¾›æ¯å€‹æ“ä½œç³»çµ±ä¹‹é–“çš„æœ€ä½³ä¸€è‡´æ€§ã€‚ æˆ–è€…ï¼Œå¦‚æœä½ æƒ³å­¸ç¿’ä¸€å€‹éš¨è™•å¯ç”¨çš„
å·¥å…·ï¼ŒEask æ˜¯æœ€å¥½çš„é¸æ“‡ä¹‹ä¸€ã€‚

## â“ æˆ‘åœ¨å“ªè£¡å¯ä»¥ä¸‹è¼‰ Eask snapshotï¼Ÿ

æ‚¨å¯ä»¥åœ¨æˆ‘å€‘çš„ç¶²ç«™ä¸‹è¼‰æœ€æ–°çš„å¯åŸ·è¡Œæ–‡ä»¶ (snapshot) [emacs-eask/binaries](https://github.com/emacs-eask/binaries)
ä»£ç¢¼åº«!

# ğŸ” æŠ€è¡“é¸æ“‡

## â“ ç‚ºä»€éº¼é¸æ“‡ Node.JS?

[Node][Node.js] å°å„ç¨®çµ‚ç«¯æ‡‰ç”¨ç¨‹åºæœ‰æ›´å¥½çš„æ”¯æŒï¼ˆç›¸æ¯” shell è…³æœ¬ï¼‰ï¼ æ¯”å¦‚è±å¯Œå¤šå½©çš„ç•Œé¢ï¼Œæ•´å€‹ [npm][] ç¤¾å€ç­‰ç­‰ã€‚
æ‰€ä»¥ä½ å¯ä»¥æ›´è¼•é¬†åœ°æ§‹å»ºè·¨å¹³å°è»Ÿä»¶ï¼ å°¤å…¶æ˜¯åœ¨å¾®è»Ÿä¹‹å¾Œå·²ç¶“è³¼è²·äº† NPM å…¬å¸ï¼Œä¸¦ä¸”å¯èƒ½æœƒå¾ˆå¥½åœ°æ”¯æŒä»–
å€‘è‡ªå·±çš„ç³»çµ±ã€‚

åœ¨ `0.8.6` ç‰ˆæœ¬ä¹‹å¾Œï¼Œ[Cask][] ä¼¼ä¹ä¸æ”¯æŒ Windowsï¼ˆä½†æ”¯æ´ [WSL][]ï¼‰ã€‚ åœ¨è£¡é¢æ—©æœŸç‰ˆæœ¬ï¼Œä»–å€‘ä½¿ç”¨çš„æ˜¯ [Python][]
ä½†ç”±æ–¼ [Python][] åœ¨ Windows ä¸Šçš„æ”¯æŒåªæ˜¯ä¸å¦‚ [Node.JS][]ã€‚

æœ‰é—œè©³ç´°ä¿¡æ¯ï¼Œè«‹åƒé–±[å•é¡Œ #140](https://github.com/emacs-eask/cli/issues/140)ï¼

## â“ ç‚ºä»€éº¼é¸æ“‡ JavaScript?

æˆ‘å¯ä»¥ä½¿ç”¨è¨±å¤šèªè¨€ä¾†å»ºç«‹ Easkï¼Œç‚ºä»€éº¼æˆ‘é¸æ“‡ [JavaScript][]ï¼Ÿ

æˆ‘æœ‰ä¸‰å€‹ç†ç”±

- [JavaScript][] å®¹æ˜“å­¸ç¿’ã€‚
- å¾—ç›Šæ–¼ [Node.js][] runtimeï¼Œå®ƒæä¾›äº†æ¥µä½³çš„è·¨å¹³å°å…¼å®¹æ€§ã€‚
- æˆ‘æ°å¥½äº†è§£ [JavaScript][]ï¼Œè€Œä¸”ç”¨èµ·ä¾†å¾—å¿ƒæ‡‰æ‰‹ã€‚

æˆ‘ä¹Ÿè€ƒæ…®é [Rust][] å’Œ [Common Lisp][]ã€‚ç„¶è€Œï¼Œç•¶æˆ‘é–‹å§‹é€™å€‹å°ˆæ¡ˆæ™‚ï¼Œ[Rust][]
ä»æ˜¯æ¯”è¼ƒæ–°çš„èªè¨€ï¼Œè€Œ [Common Lisp][] é›–ç„¶åŠŸèƒ½å¼·å¤§ï¼Œä½†å­¸ç¿’æ›²ç·šè¼ƒé™¡ï¼Œè€Œä¸”ç¶“å¸¸è¢«è¦–ç‚ºæœ‰é»è½ä¼ã€‚å› æ­¤ï¼Œæˆ‘é¸æ“‡äº† JavaScriptã€‚

## â“ ç‚ºä»€éº¼é¸æ“‡ yargs?

[yargs][] æ“æœ‰éå¸¸å»£æ³›çš„ç¤¾å€ï¼› å’Œå®ƒå·²ç¶“è¢«ç”¨åœ¨å¾ˆå¤šå·¥å…·ä¸­ã€‚ å®ƒæ˜¯è·¨å¹³å°çš„ï¼
æœ€é‡è¦çš„æ˜¯ï¼Œé€™æ˜¯åœ¨ Linuxã€macOS å’Œ Windows ä¸Šé‹è¡Œè‰¯å¥½çš„å·¥å…·ä¹‹ä¸€ã€‚

èˆ‡ Eask å’Œå…¶ä»–æ›¿ä»£æ–¹æ¡ˆç›¸æ¯”ï¼Œä¹Ÿå­˜åœ¨ä¸»è¦å·®ç•°ã€‚[Cask][]ã€[makem.sh][] æˆ– [Eldev][] æ›´ä¾è³´æ–¼
`batch` å’Œ `bash`ã€‚ æˆ‘å€‘é¸æ“‡äº†ä¸€å€‹è·¯ç·šä¸åŒï¼Œæƒ³æŠŠç¹é‡çš„ä»»å‹™äº¤çµ¦é«˜å±¤ç·¨ç¨‹èªè¨€ï¼Œ[JavaScript][]ã€‚
é–‹é«®è®Šå¾—æ›´åŠ å®¹æ˜“ï¼Œå› ç‚ºæˆ‘å€‘ä¸å†éœ€è¦é—œå¿ƒä¸åŒé¡å‹çš„ shellï¼

ç¼ºé»æ˜¯ [Node.JS][] çš„ runtimeï¼Œä½†æˆ‘å€‘å¯ä»¥ç°¡å–®åœ°æ‰“åŒ…æ•´å€‹ CLI ç¨‹åºè®Šæˆå¯åŸ·è¡Œæ–‡ä»¶ï¼ é€™æ¨£æˆ‘å€‘å°±ä¸éœ€è¦å®‰è£
[Node][Node.js] å’Œ [npm][]ï¼

# ğŸ” ç”¨æ³•

## â“ å¦‚ä½•è¨­å®š Easkï¼Ÿ

`Eask`-file æ˜¯ä¸€å€‹ Elisp æª”æ¡ˆï¼Œé¡ä¼¼æ–¼ `.emacs` æˆ– `init.el`ã€‚
æ­£å¦‚ Emacs å…è¨±æ‚¨è‡ªè¨‚æ‚¨ä¸å–œæ­¡çš„æ–¹é¢ä¸€æ¨£ï¼ŒEask ä¹Ÿéµå¾ªåŒæ¨£çš„åŸå‰‡ï¼Œè®“æ‚¨é…ç½®ä»»ä½•æ‚¨ä¸å–œæ­¡ Eask çš„åœ°æ–¹ã€‚

å¦ä¸€ç¨®é…ç½®å·¥ä½œå€çš„æ–¹æ³•èˆ‡é…ç½® Emacs æœ¬èº«é¡ä¼¼ï¼š

- ä½¿ç”¨ .eask/VERSION_NO/early-init.el (åƒ…é™æ–¼ Emacs 27.1 ä»¥å¾Œ)
- ä½¿ç”¨ .eask/VERSION_NO/init.el

## â“ å¦‚ä½•ç›´æ¥å¾å¥—ä»¶åº«å®‰è£å¥—ä»¶ï¼Ÿ

æœ‰å¹¾ç¨®æ–¹æ³•å¯ä»¥åšåˆ°é€™ä¸€é»ï¼Œä½†æ¨™æº–çš„æ–¹æ³•æ˜¯åœ¨ Eask æª”æ¡ˆä¸­å®šç¾©ä¸€å€‹ [recipe format][]ã€‚

```elisp
(depends-on "organize-imports-java"
            :repo "jcs-elpa/organize-imports-java"
            :fetcher 'github
            :files '(:defaults "sdk" "default"))
```

Eask æœƒä¸€æ¬¡å»ºç«‹å¥—ä»¶ï¼Œä¸¦å¯„å­˜æœ¬æ©Ÿ ELPAï¼Œè®“æ‚¨ç¨å¾Œå®‰è£æ™‚ä½¿ç”¨ã€‚é€™æ˜¯å®‰è£å¥—ä»¶æœ€å®‰å…¨çš„æ–¹å¼ï¼Œå› ç‚ºå®ƒæ¨¡æ“¬äº†æœ€å¯¦éš›çš„æƒ…æ³ã€‚

ä¸éï¼Œç”±æ–¼ Eask ä¹Ÿæ˜¯ä¸€å€‹ Elisp æª”æ¡ˆï¼Œå› æ­¤ä»»ä½•å…¶ä»–æ›¿ä»£æ–¹å¼ä¹ŸåŒæ¨£é©ç”¨ã€‚

- [package-vc-install][]
- [quelpa][]
- [use-package][]
- [straight.el][]

# ğŸ” æ•…éšœæ’é™¤

## â“ ç‚ºä»€éº¼å®‰è£æ™‚å‡ºç¾éŒ¯èª¤ package target `tar`/`el` not foundï¼Ÿ

ç¤ºä¾‹éŒ¯èª¤æ¶ˆæ¯ï¼Œ

```text
http://melpa.org/packages/lsp-mode-20220429.647.tar: Not found
```

è©²å•é¡Œæ˜¯ç”±å‚™ä»½å­˜æª”ä¸åŒ¹é…å¼•èµ·çš„ã€‚ ä¸€èˆ¬ä¾†èªªï¼ŒEask å°‡å¾æºä¸­ç²å–æœ€æ–°çš„ `archive-contents` é™¤éä½ å·²ç¶“
ping æºå¤ªå¤šæ¬¡ã€‚ ç„¶å¾Œä¾†æºå¯èƒ½æœƒé˜»æ­¢æ‚¨çš„ IP ä¸€æ®µæ™‚é–“åˆ†é˜ã€‚

æ‚¨å¯ä»¥ç­‰å¾…å¹¾åˆ†é˜è®“æ¶ˆæ¯ä¾†æºå°‡æ‚¨å¾ä»–å€‘çš„é»‘åå–®ã€‚ æˆ–è€…ç­‰å¾…å‚™ä»½å­˜æª”æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ é€™
å‚™ä»½å­˜æª”å­˜å„²åº«åœ¨ [æ­¤è™•](https://github.com/emacs-eask/archives)ã€‚

## â“ ç‚ºä»€éº¼æˆ‘æ”¶åˆ°éŒ¯èª¤åŒ…ä¸å¯å®‰è£ï¼Ÿ

ç¤ºä¾‹éŒ¯èª¤æ¶ˆæ¯ï¼Œ

```text
Package not installable `helm'; make sure package archives are included
```

ä½ éœ€è¦å…ˆå•å•è‡ªå·±ï¼› åŒ…è£¹å¾å“ªè£¡ä¾†ï¼Œæ˜¯ä»€éº¼å…·é«”ä¾†æºä¿å­˜æ­¤åŒ…ä¿¡æ¯ã€‚ å¾ä¸Šé¢çš„ç¤ºä¾‹æ¶ˆæ¯ä¸­ï¼Œ
`helm` åˆ—åœ¨ `melpa` æºä»£ç¢¼ä¸­ã€‚ æ‚¨å°‡ä¸å¾—ä¸ç·¨è¼¯æ‚¨çš„ **Eask** æ–‡ä»¶åƒé€™æ¨£ï¼š

```elisp
...

(source "melpa")  ; <- add this line

(depends-on "helm")
```

## â“ ç‚ºä»€éº¼æˆ‘æœƒçœ‹åˆ°éŒ¯èª¤ï¼Ÿã€ŒPackage emacs-XX.X' is unavailableã€?

ç¤ºä¾‹éŒ¯èª¤æ¶ˆæ¯ï¼Œ

```text
Loading package information... done v
Installing 1 specified package...

  - [1/1] Installing markdown-mode (20250226.231)... Package `emacs-28.1' is unavailable
Wrong type argument: package-desc, nil
```

ç•¶ Emacs å˜—è©¦å®‰è£ä¸€å€‹éœ€è¦è¼ƒæ–°ç‰ˆæœ¬ Emacs çš„å¥—ä»¶æ™‚ï¼Œå°±æœƒç™¼ç”Ÿé€™å€‹éŒ¯èª¤ã€‚
åœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œæ­¤éœ€æ±‚ä¸¦éç›´æ¥ä¾†è‡ªå¥—ä»¶æœ¬èº«ï¼Œè€Œæ˜¯ä¾†è‡ªå…¶ä¾è³´çš„å…¶ä¸­ä¸€å€‹å¥—ä»¶ã€‚

æ‚¨å¯ä»¥é¸æ“‡ä¸ä½¿ç”¨é€™å€‹å¥—ä»¶ï¼Œæˆ–æ˜¯å°‡ Emacs å‡ç´šåˆ°æ‰€éœ€çš„ç‰ˆæœ¬ã€‚

## â“ ç‚ºä»€éº¼æˆ‘æœƒæ”¶åˆ°ç‹€æ…‹ç‚º 2 çš„ git éŒ¯èª¤ï¼Ÿ

å¦‚æœæ‚¨æ”¶åˆ°æ­¤ç¤ºä¾‹éŒ¯èª¤æ¶ˆæ¯:

```text
Loading package information... done âœ“
  - Installing s (20210616.619)... Failed (status 2): git --no-pager remote get-url upstream .
...
```

æ‚¨å¯èƒ½å•Ÿç”¨äº† `bug-reference-prog-mode` ã€‚ å®ƒé‚„ä¸å…¼å®¹ Eask, é‹è¡Œ Eask çš„ä»»ä½•å‘½ä»¤æ™‚éƒ½æ‡‰ç¦ç”¨ã€‚

åƒè¦‹[å•é¡Œ #39](https://github.com/emacs-eask/cli/issues/39#issuecomment-1150770740)
äº†è§£æ›´å¤šä¿¡æ¯ã€‚

## â“ ç‚ºä»€éº¼æˆ‘æœƒä»¥ç‹€æ…‹ 2 é€€å‡º tarï¼Ÿ

å¦‚æœæ‚¨æ”¶åˆ°æ­¤ç¤ºä¾‹éŒ¯èª¤æ¶ˆæ¯:

```text
Created your-package-0.1.0.tar containing:
tar exited with status 2
Error: Process completed with exit code 1.
```

ä½¿ç”¨ BSD tar æ™‚æ‚¨å¯èƒ½æœƒæ”¶åˆ°æ­¤éŒ¯èª¤ã€‚è§£æ±ºæ–¹æ³•æ˜¯ä½¿ç”¨ GNU tar ä»£æ›¿ã€‚

```elisp
(setq package-build-tar-executable "/path/to/gnu/tar")
```

åœ¨ Windows ä¸­ï¼Œé»˜èªæ˜¯ä½¿ç”¨ BSD tarã€‚å¦‚æœå®‰è£äº† Gitï¼Œå‰‡å¯ä»¥ä½¿ç”¨ Git ä¸­çš„ tar
å¯åŸ·è¡Œæ–‡ä»¶ï¼›å®ƒä½¿ç”¨ GNU tarã€‚

å°‡ä»¥ä¸‹ä»£ç¢¼ç‰‡æ®µæ·»åŠ åˆ°æ‚¨çš„ Eask æ–‡ä»¶ä¸­ï¼š

```elisp
;; åœ¨Windowsä¸­ä½¿ç”¨ GNU tar
(when (memq system-type '(cygwin windows-nt ms-dos))
  (setq package-build-tar-executable "C:/Program Files/Git/usr/bin/tar.exe"))
```


<!-- Links -->

[emacs-eask/archives]: https://github.com/emacs-eask/archives

[Cask]: https://github.com/cask/cask
[makem.sh]: https://github.com/alphapapa/makem.sh
[Eldev]: https://github.com/doublep/eldev

[Node.js]: https://nodejs.org/
[npm]: https://www.npmjs.com/
[yargs]: https://www.npmjs.com/package/yargs

[WSL]: https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux
[JavaScript]: https://simple.wikipedia.org/wiki/JavaScript
[Python]: https://www.python.org/
[Rust]: https://www.rust-lang.org/
[Common Lisp]: https://lisp-lang.org/

[recipe format]: https://github.com/melpa/melpa?tab=readme-ov-file#recipe-format

[package-vc-install]: https://www.gnu.org/software/emacs/manual/html_node/emacs/Fetching-Package-Sources.html
[quelpa]: https://github.com/quelpa/quelpa
[use-package]: https://github.com/jwiegley/use-package
[straight.el]: https://github.com/radian-software/straight.el
